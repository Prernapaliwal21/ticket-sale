<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Mona Squad Tickets</title>
    <style>
      @page {
        size: A4;
        margin: 20px;
      }

      body {
        font-family: "Poppins", sans-serif;
        background: #f8fafc;
        padding: 20px;
      }

      :root {
        --gold: #e29d38;
        --deep-purple: #521035;
        --maroon: #841b3b;
        --warm: #c2532b;
        --offwhite: #e4dfda;
        --shadow-dark: rgba(35, 7, 13, 0.6);
      }

      .ticket {
        position: relative;
        width: 920px;
        max-width: 100%;
        height: 420px;
        border-radius: 18px;
        padding: 36px 40px;
        box-sizing: border-box;
        color: var(--offwhite);
        background: linear-gradient(
          135deg,
          var(--warm) 0%,
          var(--deep-purple) 48%,
          var(--maroon) 100%
        );
        box-shadow: 0 12px 30px var(--shadow-dark);
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        overflow: hidden;
        margin-bottom: 40px;
      }

      .left {
        flex: 1;
      }

      .header-row {
        display: flex;
        align-items: center;
        gap: 20px;
        margin-bottom: 20px;
      }

      .logo {
        width: 120px; /* logo bigger */
      }
      .logo img {
        width: 100%;
        height: auto;
        display: block;
      }

      .title-section {
        text-align: center; /* center align text */
      }

      .festival {
        font-size: 44px;
        font-weight: 800;
        color: var(--gold);
        line-height: 1.1;
        letter-spacing: 0.5px;
      }

      .year {
        font-size: 40px;
        font-weight: 800;
        color: var(--gold);
        margin-top: 4px;
      }

      .details {
        margin-top: 20px;
        font-size: 18px;
        line-height: 1.9;
        max-width: 550px;
        word-wrap: break-word;
        white-space: normal;
      }

      .details div {
        margin-bottom: 6px;
      }

      .details .label {
        font-weight: 700;
        display: inline-block;
        width: 90px;
        text-transform: uppercase;
      }

      .meta {
        margin-top: 16px;
        font-size: 18px;
      }
      .meta .holder {
        font-weight: 600;
      }
      .meta .price {
        font-weight: 700;
        margin-top: 6px;
      }

      .right {
        position: absolute;
        right: 30px;
        bottom: 30px;
        width: 240px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
      }

      .qr-wrap {
        width: 150px;
        height: 150px;
        background: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 12px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
      }
      .qr-wrap img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .gate {
        margin-top: 12px;
        font-size: 22px;
        font-weight: 800;
        color: var(--gold);
      }
      .entry {
        font-size: 16px;
        margin-top: 4px;
      }
    </style>
  </head>
  <body>
    {% for ticket in tickets %}
    <div class="ticket">
      <div class="left">
        <div class="header-row">
          <div class="logo">
            <img src="/static/images/mona-squad-logo.png" alt="Mona Squad" />
          </div>
          <div class="title-section">
            <div class="festival">GARBA FESTIVAL</div>
            <div class="year">2025</div>
          </div>
        </div>

        <div class="details">
          <div><span class="label">Date</span> 4TH OCT 2025</div>
          <div><span class="label">Time</span> 6:30 PM ONWARDS</div>
          <div>
            <span class="label">Venue</span>
            VISHWAS SWAROOPAM GARDEN,<br />
            NATHDWARA
          </div>
        </div>

        <div class="meta">
          <div class="holder">Holder: {{ ticket.name }}</div>
          <div class="price">
            Price: â‚¹{{ "%.2f"|format(ticket.price_per_ticket) }}
          </div>
        </div>
      </div>

      <div class="right">
        <div class="qr-wrap">
          <img src="data:image/png;base64,{{ ticket.qr_code }}" alt="QR" />
        </div>
        <div style="text-align: center">
          <div class="gate">Gate No. 2</div>
          <div class="entry">Single Entry</div>
        </div>
      </div>
    </div>
    {% endfor %}
  </body>
</html>
